class AssessmentSerializer < ActiveModel::Serializer
  attributes :id, :value

  belongs_to :vulnerability

  belongs_to :technology

  def id
    object.vulnerability.id
  end

  def value
    if object.new_record?
      0
    else
      ua = object.user_assessments.first
      ua ? ua.value : 0
    end
  end
end
