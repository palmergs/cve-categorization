import Ember from 'ember';

export default Ember.Component.extend({
  technology: null,
  assess: null,
  badgeColor: 'is-primary',
  hasMore: Ember.computed('meta', function() {
    const page = this.get('meta.page'),
        count = this.get('meta.page-count');
    return (page && count && page < count);
  }),
  actions: {
    onAssessmentChanged(assessment) {
      if(assessment.get('assessment') !== this.get('assess')) {
        this.decrementProperty('meta.total');
        this.get('model').removeObject(assessment);
      }
      this.sendAction('assessmentChanged', assessment);
    },

    loadMore() {
      console.log(`about to load more ${ this.get('assess') }`);
      this.sendAction('loadMore', this.get('technology'), this.get('assess'));
    }
  }
});
