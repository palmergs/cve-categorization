import Ember from 'ember';

export default Ember.Route.extend({
  model() {
    console.log("Am I here?");

    const technology = this.modelFor('technology');
    console.log(technology);

    const id = technology.get('id');
    console.log(id);

    return Ember.RSVP.hash({
      notApplicable: this.store.query('vulnerability', { technology_id: id, indication: -3 }),
      unlikely: this.store.query('vulnerability', { technology_id: id, indication: -1 }),
      uncategorized: this.store.query('vulnerability', { technology_id: id, indication: 0 }),
      likely: this.store.query('vulnerability', { technology_id: id, indication: 1 }),
      applicable: this.store.query('vulnerability', { technology_id: id, indication: 3 })
    });
  }
});
