import Ember from 'ember';

export default Ember.Route.extend({
  model() {

    const technology = this.modelFor('technology');

    const id = technology.get('id');

    return Ember.RSVP.hash({
      notApplicable: this.store.query('vulnerability', { technology_id: id, indication: -3 }),
      unlikely: this.store.query('vulnerability', { technology_id: id, indication: -1 }),
      uncategorized: this.store.query('vulnerability', { technology_id: id, indication: 0 }),
      likely: this.store.query('vulnerability', { technology_id: id, indication: 1 }),
      applicable: this.store.query('vulnerability', { technology_id: id, indication: 3 })
    });
  }
});
